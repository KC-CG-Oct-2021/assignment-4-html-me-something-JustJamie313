<!DOCTYPE html>
<html>
   <head>
      <title>KC CoderGirl Original Art</title>
      <link rel='stylesheet' type='text/css' href='styles.css'/>
      <link rel='icon' type='image/x-icon' href='images/kccodergirl3.png'/>
      <script src='./gallery.js'></script>
   </head>
   <body>
      <h1 id="mainHeading"><img id='kccg' src='images/kccodergirl3.png' alt='KC Codergirl logo'> Original Art Gallery</h1>
      <div class='container'>
         <button onmousedown='this.classList.add("clicked");' onmouseup='this.classList.remove("clicked");' onclick='(galleryIndex===0)?galleryIndex=gallery.length-1:galleryIndex -= 1;showImage(galleryIndex);'>&lt;</button>
         <main>
            <article>
               <header>
                  <h2></h2>
                  <img id='galleryImage'/>
                  <p id="testP" class='funParagraph'></p>
                  <p id='detailsParagraph'></p>
               </header>
               <pre></pre>
            </article>
         </main>
         <button onmousedown='this.classList.add("clicked");' onmouseup='this.classList.remove("clicked");' onclick='(galleryIndex === gallery.length-1)?galleryIndex=0:galleryIndex+=1;showImage(galleryIndex)'>&gt;</button>
      </div>
      <img id='viewFinder' src='./images/viewfinder.png' alt='image of viewfinder toy' onclick='window.location=`./pages/viewFinder.html?index=${galleryIndex}`'/>
      <footer>
         <p>Version: 1.2</p>
         &copy; <script>document.write(new Date().getFullYear())</script> <b>&#183;</b> Jamie Miller ~ All Rights Reserved.
         <p>All images and poetry are my original works.  All Rights Reserved.</p>
      </footer>
      <script>
         
         let galleryIndex = Math.floor(Math.random()*gallery.length);
         setInterval(function(){randomizeBackground();},15000);
         showImage(galleryIndex);
         function showImage(index){
            let title = document.querySelector('h2');
            let image = document.querySelector('#galleryImage');
            let artist = document.querySelector('#testP');
            let details = document.querySelector('#detailsParagraph');
            let preText = document.querySelector('pre');
            title.innerHTML = gallery[index].name;
            image.setAttribute('class',gallery[index].class);
            image.setAttribute('src',`./images/${gallery[index].src}`);
            image.setAttribute('alt',gallery[index].alt);
            artist.innerHTML = `Artist: ${gallery[index].artist}`;
            details.innerHTML = gallery[index].details;
            if(gallery[index].pre !== ''){
               preText.innerHTML = gallery[index].pre;
               preText.style.display = 'block';
            } else {
               preText.innerHTML = '';
               preText.style.display = 'none';
            }
         }
         function randomizeBackground(){
            let body = document.querySelector('body');
            body.style.backgroundColor = `rgba(${Math.floor(Math.random()*255)},${Math.floor(Math.random()*255)},${Math.floor(Math.random()*255)},0.25)`;
         }
      </script>
   </body>
</html>